# Redis configuration for high throughput with limited resources

# Memory settings - reduced for constrained environment
maxmemory 38mb
maxmemory-policy allkeys-lru

# Disable RDB persistence for maximum performance
save ""

# Disable AOF persistence
dbfilename ""
appendonly no

# Reduce logging to save resources
loglevel warning

# Set connected clients limit to reasonable value
maxclients 5000

# TCP settings - adjusted to match system limits
tcp-backlog 16384
tcp-keepalive 60
timeout 30

# Performance tuning - reduced threads for lower CPU usage
io-threads 1
io-threads-do-reads yes

# Disable protected mode (if running in trusted network)
protected-mode no

# Disable unused features to save memory
lazyfree-lazy-eviction yes
lazyfree-lazy-expire yes
lazyfree-lazy-server-del yes
replica-lazy-flush yes

# Additional memory optimizations
activedefrag no
